var app=function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function r(e){e.forEach(t)}function o(e){return"function"==typeof e}function l(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}let i,c;function s(e,t){return i||(i=document.createElement("a")),i.href=t,e===i.href}function a(e,t){e.appendChild(t)}function u(e,t,n){e.insertBefore(t,n||null)}function f(e){e.parentNode.removeChild(e)}function d(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function g(e){return document.createElement(e)}function m(e){return document.createTextNode(e)}function h(){return m(" ")}function $(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function p(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function x(e){c=e}function T(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach((e=>e.call(this,t)))}const b=[],y=[],v=[],w=[],C=Promise.resolve();let P=!1;function k(e){v.push(e)}const N=new Set;let A=0;function F(){const e=c;do{for(;A<b.length;){const e=b[A];A++,x(e),I(e.$$)}for(x(null),b.length=0,A=0;y.length;)y.pop()();for(let e=0;e<v.length;e+=1){const t=v[e];N.has(t)||(N.add(t),t())}v.length=0}while(b.length);for(;w.length;)w.pop()();P=!1,N.clear(),x(e)}function I(e){if(null!==e.fragment){e.update(),r(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(k)}}const S=new Set;let _;function E(){_={r:0,c:[],p:_}}function O(){_.r||r(_.c),_=_.p}function W(e,t){e&&e.i&&(S.delete(e),e.i(t))}function j(e,t,n,r){if(e&&e.o){if(S.has(e))return;S.add(e),_.c.push((()=>{S.delete(e),r&&(n&&e.d(1),r())})),e.o(t)}else r&&r()}function B(e){e&&e.c()}function M(e,n,l,i){const{fragment:c,on_mount:s,on_destroy:a,after_update:u}=e.$$;c&&c.m(n,l),i||k((()=>{const n=s.map(t).filter(o);a?a.push(...n):r(n),e.$$.on_mount=[]})),u.forEach(k)}function L(e,t){const n=e.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function q(e,t){-1===e.$$.dirty[0]&&(b.push(e),P||(P=!0,C.then(F)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function D(t,o,l,i,s,a,u,d=[-1]){const g=c;x(t);const m=t.$$={fragment:null,ctx:null,props:a,update:e,not_equal:s,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(o.context||(g?g.$$.context:[])),callbacks:n(),dirty:d,skip_bound:!1,root:o.target||g.$$.root};u&&u(m.root);let h=!1;if(m.ctx=l?l(t,o.props||{},((e,n,...r)=>{const o=r.length?r[0]:n;return m.ctx&&s(m.ctx[e],m.ctx[e]=o)&&(!m.skip_bound&&m.bound[e]&&m.bound[e](o),h&&q(t,e)),n})):[],m.update(),h=!0,r(m.before_update),m.fragment=!!i&&i(m.ctx),o.target){if(o.hydrate){const e=function(e){return Array.from(e.childNodes)}(o.target);m.fragment&&m.fragment.l(e),e.forEach(f)}else m.fragment&&m.fragment.c();o.intro&&W(t.$$.fragment),M(t,o.target,o.anchor,o.customElement),F()}x(g)}class X{$destroy(){L(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function z(t){let n,r,o,l,i,c;return{c(){n=g("div"),r=g("img"),p(r,"class","tile-image svelte-r2fr54"),s(r.src,o=t[0])||p(r,"src",o),p(r,"alt",t[1]),p(n,"class",l="tile "+t[2]+" "+("yes"==t[3]?"dark":"")+" svelte-r2fr54")},m(e,o){u(e,n,o),a(n,r),i||(c=$(n,"click",t[4]),i=!0)},p(e,[t]){1&t&&!s(r.src,o=e[0])&&p(r,"src",o),2&t&&p(r,"alt",e[1]),12&t&&l!==(l="tile "+e[2]+" "+("yes"==e[3]?"dark":"")+" svelte-r2fr54")&&p(n,"class",l)},i:e,o:e,d(e){e&&f(n),i=!1,c()}}}function G(e,t,n){let{currentTileForegroundImageSource:r}=t,{currentTileAltText:o}=t,{currentTileClassName:l}=t,{darken:i="no"}=t;return e.$$set=e=>{"currentTileForegroundImageSource"in e&&n(0,r=e.currentTileForegroundImageSource),"currentTileAltText"in e&&n(1,o=e.currentTileAltText),"currentTileClassName"in e&&n(2,l=e.currentTileClassName),"darken"in e&&n(3,i=e.darken)},[r,o,l,i,function(t){T.call(this,e,t)}]}class H extends X{constructor(e){super(),D(this,e,G,z,l,{currentTileForegroundImageSource:0,currentTileAltText:1,currentTileClassName:2,darken:3})}}class J{constructor(){this.winner="",this.board=[["null","null","null"],["null","null","null"],["null","null","null"]],this.finished=0,this.draw=0,this.winningPieces=[]}playMove(e,t,n){if("null"!==this.board[t][n]||this.finished)return!1;this.board[t][n]=e,this.board=this.board;var r=this.checkForWins();return console.log(r),r&&(this.finished=1),!0}checkForWins(){var e=!1;return[[[0,0],[0,1],[0,2]],[[1,0],[1,1],[1,2]],[[2,0],[2,1],[2,2]],[[0,0],[1,0],[2,0]],[[0,1],[1,1],[2,1]],[[0,2],[1,2],[2,2]],[[0,0],[1,1],[2,2]],[[2,0],[1,1],[0,2]]].forEach((t=>{this.board[t[0][0]][t[0][1]]==this.board[t[1][0]][t[1][1]]&&this.board[t[1][0]][t[1][1]]==this.board[t[2][0]][t[2][1]]&&"null"!==this.board[t[2][0]][t[2][1]]&&(e=!0,this.winningPieces=t)})),!e&&this.boardIsFinished()&&(this.draw=1,this.finished=1,console.log("d")),e}boardIsFinished(){var e=!0;return this.board.forEach((t=>{t.forEach((t=>{console.log(t),"null"==t&&(e=!1)}))})),e}}var K={x:{tileForegroundImageSource:"textures/x.png",tileAltText:"X",tileClassName:"played"},o:{tileForegroundImageSource:"textures/o.png",tileAltText:"O",tileClassName:"played"},null:{tileForegroundImageSource:"textures/unknown.png",tileAltText:"No moves.",tileClassName:"nomoves"}};function Q(e){let t,n,r,o,l;return o=new H({props:{currentTileForegroundImageSource:K[e[0]].tileForegroundImageSource,currentTileAltText:K[e[0]].tileAltText,currentTileClassName:K[e[0]].tileClassName+" refTile"}}),{c(){t=g("div"),n=g("div"),n.textContent="Playing",r=h(),B(o.$$.fragment),p(n,"class","heading svelte-ab6dx8"),p(t,"class","textToPlay svelte-ab6dx8")},m(e,i){u(e,t,i),a(t,n),a(t,r),M(o,t,null),l=!0},p(e,[t]){const n={};1&t&&(n.currentTileForegroundImageSource=K[e[0]].tileForegroundImageSource),1&t&&(n.currentTileAltText=K[e[0]].tileAltText),1&t&&(n.currentTileClassName=K[e[0]].tileClassName+" refTile"),o.$set(n)},i(e){l||(W(o.$$.fragment,e),l=!0)},o(e){j(o.$$.fragment,e),l=!1},d(e){e&&f(t),L(o)}}}function R(e,t,n){let{toPlay:r}=t;return e.$$set=e=>{"toPlay"in e&&n(0,r=e.toPlay)},[r]}class U extends X{constructor(e){super(),D(this,e,R,Q,l,{toPlay:0})}}function V(e){let t,n,r,o,l,i,c,s,d;return n=new H({props:{currentTileForegroundImageSource:K[e[0]].tileForegroundImageSource,currentTileAltText:K[e[0]].tileAltText,currentTileClassName:K[e[0]].tileClassName+" refTile"}}),{c(){t=g("div"),B(n.$$.fragment),r=h(),o=g("div"),o.textContent="has won!",l=h(),i=g("button"),i.textContent="Play again",p(o,"class","heading svelte-12ip7c2"),p(i,"class","play-again-button svelte-12ip7c2"),p(t,"class","textWon svelte-12ip7c2")},m(f,g){u(f,t,g),M(n,t,null),a(t,r),a(t,o),a(t,l),a(t,i),c=!0,s||(d=$(i,"click",e[1]),s=!0)},p(e,[t]){const r={};1&t&&(r.currentTileForegroundImageSource=K[e[0]].tileForegroundImageSource),1&t&&(r.currentTileAltText=K[e[0]].tileAltText),1&t&&(r.currentTileClassName=K[e[0]].tileClassName+" refTile"),n.$set(r)},i(e){c||(W(n.$$.fragment,e),c=!0)},o(e){j(n.$$.fragment,e),c=!1},d(e){e&&f(t),L(n),s=!1,d()}}}function Y(e,t,n){let{toPlay:r}=t;return e.$$set=e=>{"toPlay"in e&&n(0,r=e.toPlay)},[r,()=>{window.location.reload()}]}class Z extends X{constructor(e){super(),D(this,e,Y,V,l,{toPlay:0})}}function ee(t){let n,r,o,l,i,c;return{c(){n=g("div"),r=g("div"),r.textContent="Draw",o=h(),l=g("button"),l.textContent="Play again",p(r,"class","heading svelte-12ip7c2"),p(l,"class","play-again-button svelte-12ip7c2"),p(n,"class","textWon svelte-12ip7c2")},m(e,s){u(e,n,s),a(n,r),a(n,o),a(n,l),i||(c=$(l,"click",t[0]),i=!0)},p:e,i:e,o:e,d(e){e&&f(n),i=!1,c()}}}function te(e){return[()=>window.location.reload()]}class ne extends X{constructor(e){super(),D(this,e,te,ee,l,{})}}function re(e,t,n){const r=e.slice();return r[4]=t[n],r[6]=n,r}function oe(e,t,n){const r=e.slice();return r[7]=t[n],r[9]=n,r}function le(e){let t,n;return t=new H({props:{darken:!e[1].finished||e[1].draw||fe(e[1].winningPieces,[e[9],e[6]])?"no":"yes",currentTileForegroundImageSource:K[e[1].board[e[9]][e[6]]].tileForegroundImageSource,currentTileAltText:K[e[1].board[e[9]][e[6]]].tileAltText,currentTileClassName:K[e[1].board[e[9]][e[6]]].tileClassName}}),t.$on("click",(function(){return e[3](e[9],e[6])})),{c(){B(t.$$.fragment)},m(e,r){M(t,e,r),n=!0},p(n,r){e=n;const o={};2&r&&(o.darken=!e[1].finished||e[1].draw||fe(e[1].winningPieces,[e[9],e[6]])?"no":"yes"),2&r&&(o.currentTileForegroundImageSource=K[e[1].board[e[9]][e[6]]].tileForegroundImageSource),2&r&&(o.currentTileAltText=K[e[1].board[e[9]][e[6]]].tileAltText),2&r&&(o.currentTileClassName=K[e[1].board[e[9]][e[6]]].tileClassName),t.$set(o)},i(e){n||(W(t.$$.fragment,e),n=!0)},o(e){j(t.$$.fragment,e),n=!1},d(e){L(t,e)}}}function ie(e){let t,n,r=e[4],o=[];for(let t=0;t<r.length;t+=1)o[t]=le(oe(e,r,t));const l=e=>j(o[e],1,1,(()=>{o[e]=null}));return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=m("")},m(e,r){for(let t=0;t<o.length;t+=1)o[t].m(e,r);u(e,t,r),n=!0},p(e,n){if(7&n){let i;for(r=e[4],i=0;i<r.length;i+=1){const l=oe(e,r,i);o[i]?(o[i].p(l,n),W(o[i],1)):(o[i]=le(l),o[i].c(),W(o[i],1),o[i].m(t.parentNode,t))}for(E(),i=r.length;i<o.length;i+=1)l(i);O()}},i(e){if(!n){for(let e=0;e<r.length;e+=1)W(o[e]);n=!0}},o(e){o=o.filter(Boolean);for(let e=0;e<o.length;e+=1)j(o[e]);n=!1},d(e){d(o,e),e&&f(t)}}}function ce(e){let t,n;return t=new Z({props:{toPlay:"x"==e[0]?"o":"x"}}),{c(){B(t.$$.fragment)},m(e,r){M(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.toPlay="x"==e[0]?"o":"x"),t.$set(r)},i(e){n||(W(t.$$.fragment,e),n=!0)},o(e){j(t.$$.fragment,e),n=!1},d(e){L(t,e)}}}function se(t){let n,r;return n=new ne({}),{c(){B(n.$$.fragment)},m(e,t){M(n,e,t),r=!0},p:e,i(e){r||(W(n.$$.fragment,e),r=!0)},o(e){j(n.$$.fragment,e),r=!1},d(e){L(n,e)}}}function ae(e){let t,n;return t=new U({props:{toPlay:e[0]}}),{c(){B(t.$$.fragment)},m(e,r){M(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.toPlay=e[0]),t.$set(r)},i(e){n||(W(t.$$.fragment,e),n=!0)},o(e){j(t.$$.fragment,e),n=!1},d(e){L(t,e)}}}function ue(e){let t,n,r,o,l,i,c,s,m,$,x=e[1].board,T=[];for(let t=0;t<x.length;t+=1)T[t]=ie(re(e,x,t));const b=e=>j(T[e],1,1,(()=>{T[e]=null})),y=[ae,se,ce],v=[];function w(e,t){return e[1].finished?e[1].draw?1:2:0}return s=w(e),m=v[s]=y[s](e),{c(){t=g("div"),n=g("div"),r=g("div");for(let e=0;e<T.length;e+=1)T[e].c();o=h(),l=g("div"),i=h(),c=g("div"),m.c(),p(r,"class","playarea svelte-8he6bc"),p(n,"class","board svelte-8he6bc"),p(l,"class","separator svelte-8he6bc"),p(c,"class","bottom-row"),p(t,"class","container svelte-8he6bc")},m(e,f){u(e,t,f),a(t,n),a(n,r);for(let e=0;e<T.length;e+=1)T[e].m(r,null);a(t,o),a(t,l),a(t,i),a(t,c),v[s].m(c,null),$=!0},p(e,[t]){if(7&t){let n;for(x=e[1].board,n=0;n<x.length;n+=1){const o=re(e,x,n);T[n]?(T[n].p(o,t),W(T[n],1)):(T[n]=ie(o),T[n].c(),W(T[n],1),T[n].m(r,null))}for(E(),n=x.length;n<T.length;n+=1)b(n);O()}let n=s;s=w(e),s===n?v[s].p(e,t):(E(),j(v[n],1,1,(()=>{v[n]=null})),O(),m=v[s],m?m.p(e,t):(m=v[s]=y[s](e),m.c()),W(m,1),m.m(c,null))},i(e){if(!$){for(let e=0;e<x.length;e+=1)W(T[e]);W(m),$=!0}},o(e){T=T.filter(Boolean);for(let e=0;e<T.length;e+=1)j(T[e]);j(m),$=!1},d(e){e&&f(t),d(T,e),v[s].d()}}}function fe(e,t){console.log(e,t);for(var n=0;n<e.length;n++){let o=[];for(var r=0;r<e[n].length;r++)e[n][r]===t[r]?o.push(!0):o.push(!1);if(o.every((e=>!0===e)))return!0}return!1}function de(e,t,n){var r=new J;let{currentPiece:o="x"}=t;function l(){n(0,o="x"==o?"o":"x")}return e.$$set=e=>{"currentPiece"in e&&n(0,o=e.currentPiece)},[o,r,l,(e,t)=>{r.playMove(o,e,t)&&l(),n(1,r)}]}class ge extends X{constructor(e){super(),D(this,e,de,ue,l,{currentPiece:0})}}function me(t){let n,r,o;return r=new ge({}),{c(){n=g("main"),B(r.$$.fragment)},m(e,t){u(e,n,t),M(r,n,null),o=!0},p:e,i(e){o||(W(r.$$.fragment,e),o=!0)},o(e){j(r.$$.fragment,e),o=!1},d(e){e&&f(n),L(r)}}}return new class extends X{constructor(e){super(),D(this,e,null,me,l,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
